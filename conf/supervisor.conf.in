[program:admin-django]
process_name=%(program_name)s
command=/var/praekelt/python/bin/gunicorn newswatch-live-admin-site-wsgi:application -w 4 --max-requests=10000 -b 127.0.0.1:9091
directory=/var/praekelt/newswatch-live-admin-site/bin/
user=www-data
stdout_logfile=/var/praekelt/logs/newswatch/django-admin.log
stderr_logfile=/var/praekelt/logs/newswatch/django-admin-error.log
stopsignal=QUIT
environment=PYTHON_EGG_CACHE='/var/www/.python-eggs'

[program:basic-django]
process_name=%(program_name)s
command=/var/praekelt/python/bin/gunicorn newswatch-live-basic-site-wsgi:application -w 4 --max-requests=10000 -b 127.0.0.1:9021
directory=/var/praekelt/newswatch-live-basic-site/bin/
user=www-data
stdout_logfile=/var/praekelt/logs/newswatch/django-basic.log
stderr_logfile=/var/praekelt/logs/newswatch/django-basic-error.log
stopsignal=QUIT
environment=PYTHON_EGG_CACHE='/var/www/.python-eggs'

[program:smart-django]
process_name=%(program_name)s
command=/var/praekelt/python/bin/gunicorn newswatch-live-smart-site-wsgi:application -w 4 --max-requests=10000 -b 127.0.0.1:9031
directory=/var/praekelt/newswatch-live-smart-site/bin/
user=www-data
stdout_logfile=/var/praekelt/logs/newswatch/django-smart.log
stderr_logfile=/var/praekelt/logs/newswatch/django-smart-error.log
stopsignal=QUIT
environment=PYTHON_EGG_CACHE='/var/www/.python-eggs'

[program:web-django]
process_name=%(program_name)s
command=/var/praekelt/python/bin/gunicorn newswatch-live-web-site-wsgi:application -w 4 --max-requests=10000 -b 127.0.0.1:9011
directory=/var/praekelt/newswatch-live-web-site/bin/
user=www-data
stdout_logfile=/var/praekelt/logs/newswatch/django-web.log
stderr_logfile=/var/praekelt/logs/newswatch/django-web-error.log
stopsignal=QUIT
environment=PYTHON_EGG_CACHE='/var/www/.python-eggs'

[program:deviceproxy]
command=/var/praekelt/python/bin/twistd --pidfile=/tmp/deviceproxy.pid -n devproxy --config /var/praekelt/newswatch-live-common-site/deviceproxy_site.yaml
directory=/var/praekelt/newswatch-live-common-site
user=www-data
numprocs=1
stdout_logfile=/var/praekelt/logs/newswatch/deviceproxy.log
stderr_logfile=/var/praekelt/logs/newswatch/deviceproxy-error.log
stopsignal=QUIT
startsecs=10
environment=PYTHON_EGG_CACHE='/var/www/.python-eggs'

[program:celery-worker]
process_name=%(program_name)s_%(process_num)s
command=/var/praekelt/newswatch-live-admin-site/bin/newswatch-live-admin-site celery worker
user=www-data
stdout_logfile=/var/praekelt/logs/newswatch/django-celery.log
stderr_logfile=/var/praekelt/logs/newswatch/django-celery-error.log
stopsignal=QUIT
environment=PYTHON_EGG_CACHE='/var/www/.python-eggs'

[program:celery-beat]
process_name=%(program_name)s_%(process_num)s
command=/var/praekelt/newswatch-live-admin-site/bin/newswatch-live-admin-site celery beat --pidfile=/tmp/newswatch-django-celery-beat.pid --schedule=/tmp/newswatch-celery-beat-schedule
user=www-data
stdout_logfile=/var/praekelt/logs/newswatch/django-celery.log
stderr_logfile=/var/praekelt/logs/newswatch/django-celery-error.log
stopsignal=QUIT
environment=PYTHON_EGG_CACHE='/var/www/.python-eggs'

[group:newswatch]
programs=admin-django,basic-django,smart-django,web-django,feeds-django,deviceproxy,celery-worker,celery-beat
